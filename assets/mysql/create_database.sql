-- MySQL Script generated by MySQL Workbench
-- Thu Jun 11 22:53:32 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema cardappio
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema cardappio
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `cardappio` DEFAULT CHARACTER SET utf8 ;
USE `cardappio` ;

-- -----------------------------------------------------
-- Table `cardappio`.`TIPO_CONTA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cardappio`.`TIPO_CONTA` (
  `ID_TIPO_CONTA` INT NOT NULL,
  `TIPO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_TIPO_CONTA`),
  UNIQUE INDEX `ID_TIPO_CONTA_UNIQUE` (`ID_TIPO_CONTA` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cardappio`.`PERFIL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cardappio`.`PERFIL` (
  `ID_PERFIL` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_PERFIL`),
  UNIQUE INDEX `ID_PERFIL_UNIQUE` (`ID_PERFIL` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cardappio`.`CONTA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cardappio`.`CONTA` (
  `ID_CONTA` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(45) NOT NULL,
  `SOBRENOME` VARCHAR(45) NOT NULL,
  `EMAIL` VARCHAR(45) NOT NULL,
  `USUARIO` VARCHAR(45) NOT NULL,
  `SENHA` VARCHAR(45) NOT NULL,
  `TELEFONE` VARCHAR(45) NULL,
  `WHATSAPP` VARCHAR(45) NULL,
  `TIPO_CONTA_ID` INT NOT NULL,
  `PERFIL_ID` INT NOT NULL,
  `STATUS` INT(1) NOT NULL,
  `IDADE` VARCHAR(45) NULL,
  PRIMARY KEY (`ID_CONTA`),
  INDEX `fk_CONTA_TIPO_CONTA1_idx` (`TIPO_CONTA_ID` ASC) VISIBLE,
  UNIQUE INDEX `ID_CONTA_UNIQUE` (`ID_CONTA` ASC) VISIBLE,
  INDEX `fk_CONTA_PERFIL1_idx` (`PERFIL_ID` ASC) VISIBLE,
  CONSTRAINT `fk_CONTA_TIPO_CONTA1`
    FOREIGN KEY (`TIPO_CONTA_ID`)
    REFERENCES `cardappio`.`TIPO_CONTA` (`ID_TIPO_CONTA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTA_PERFIL1`
    FOREIGN KEY (`PERFIL_ID`)
    REFERENCES `cardappio`.`PERFIL` (`ID_PERFIL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cardappio`.`EMPRESA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cardappio`.`EMPRESA` (
  `ID_EMPRESA` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(100) NOT NULL,
  `DESCRICAO` VARCHAR(200) NULL,
  `CEP` VARCHAR(45) NOT NULL,
  `ENDERECO` VARCHAR(100) NOT NULL,
  `BAIRRO` VARCHAR(45) NOT NULL,
  `CIDADE` VARCHAR(45) NOT NULL,
  `UF` VARCHAR(2) NOT NULL,
  `EMAIL` VARCHAR(45) NOT NULL,
  `TELEFONE_1` VARCHAR(45) NULL,
  `TELEFONE_2` VARCHAR(45) NULL,
  `INSTAGRAM` VARCHAR(45) NULL,
  `FACEBOOK` VARCHAR(45) NULL,
  `WHATSAPP` VARCHAR(45) NOT NULL,
  `CONTA_ID` INT NOT NULL,
  `IMAGEM` VARCHAR(255) NULL,
  PRIMARY KEY (`ID_EMPRESA`),
  INDEX `fk_EMPRESA_USUARIO_idx` (`CONTA_ID` ASC) VISIBLE,
  UNIQUE INDEX `ID_EMPRESA_UNIQUE` (`ID_EMPRESA` ASC) VISIBLE,
  CONSTRAINT `fk_EMPRESA_USUARIO`
    FOREIGN KEY (`CONTA_ID`)
    REFERENCES `cardappio`.`CONTA` (`ID_CONTA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cardappio`.`CATEGORIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cardappio`.`CATEGORIA` (
  `ID_CATEGORIA` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_CATEGORIA`),
  UNIQUE INDEX `ID_CATEGORIA_UNIQUE` (`ID_CATEGORIA` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cardappio`.`PRODUTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cardappio`.`PRODUTO` (
  `ID_PRODUTO` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(45) NOT NULL,
  `DESCRICAO` VARCHAR(45) NULL,
  `MAIOR_DE_18` INT(1) NULL,
  `PRECO` DOUBLE NOT NULL,
  `PRECO_PROMOCIONAL` DOUBLE NOT NULL,
  `PROMOCAO` INT(1) NULL,
  `CATEGORIA_ID` INT NOT NULL,
  `EMPRESA_ID` INT NOT NULL,
  `DISPONIVEL` INT(1) NOT NULL,
  PRIMARY KEY (`ID_PRODUTO`),
  UNIQUE INDEX `ID_PRODUTO_UNIQUE` (`ID_PRODUTO` ASC) VISIBLE,
  INDEX `fk_PRODUTO_CATEGORIA1_idx` (`CATEGORIA_ID` ASC) VISIBLE,
  INDEX `fk_PRODUTO_EMPRESA1_idx` (`EMPRESA_ID` ASC) VISIBLE,
  CONSTRAINT `fk_PRODUTO_CATEGORIA1`
    FOREIGN KEY (`CATEGORIA_ID`)
    REFERENCES `cardappio`.`CATEGORIA` (`ID_CATEGORIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PRODUTO_EMPRESA1`
    FOREIGN KEY (`EMPRESA_ID`)
    REFERENCES `cardappio`.`EMPRESA` (`ID_EMPRESA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cardappio`.`ENTREGADOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cardappio`.`ENTREGADOR` (
  `ID_ENTREGADOR` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(45) NOT NULL,
  `SOBRENOME` VARCHAR(45) NOT NULL,
  `TELEFONE` VARCHAR(45) NULL,
  `WHATSAPP` VARCHAR(45) NULL,
  PRIMARY KEY (`ID_ENTREGADOR`),
  UNIQUE INDEX `ID_ENTREGADOR_UNIQUE` (`ID_ENTREGADOR` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cardappio`.`CUPOM`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cardappio`.`CUPOM` (
  `ID_CUPOM` INT NOT NULL,
  `NOME` VARCHAR(45) NOT NULL,
  `DESCRICAO` VARCHAR(45) NOT NULL,
  `VALOR` DOUBLE NOT NULL,
  PRIMARY KEY (`ID_CUPOM`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cardappio`.`PEDIDO_STATUS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cardappio`.`PEDIDO_STATUS` (
  `ID_PEDIDO_STATUS` INT NOT NULL AUTO_INCREMENT,
  `DESCRICAO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_PEDIDO_STATUS`),
  UNIQUE INDEX `ID_PEDIDO_STATUS_UNIQUE` (`ID_PEDIDO_STATUS` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cardappio`.`PEDIDO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cardappio`.`PEDIDO` (
  `PEDIDO_ID` INT NOT NULL AUTO_INCREMENT,
  `CONTA_ID` INT NOT NULL,
  `ENTREGADOR_ID` INT NOT NULL,
  `CUPOM_ID` INT NULL,
  `DATA_HORA` VARCHAR(45) NOT NULL,
  `ENDERECO` VARCHAR(45) NULL,
  `PEDIDO_STATUS_ID` INT NOT NULL,
  INDEX `fk_PEDIDO_CONTA1_idx` (`CONTA_ID` ASC) VISIBLE,
  INDEX `fk_PEDIDO_ENTREGADOR1_idx` (`ENTREGADOR_ID` ASC) VISIBLE,
  INDEX `fk_PEDIDO_CUPOM1_idx` (`CUPOM_ID` ASC) VISIBLE,
  INDEX `fk_PEDIDO_PEDIDO_STATUS1_idx` (`PEDIDO_STATUS_ID` ASC) VISIBLE,
  PRIMARY KEY (`PEDIDO_ID`),
  UNIQUE INDEX `PRODUTO_ID_UNIQUE` (`PEDIDO_ID` ASC) VISIBLE,
  CONSTRAINT `fk_PEDIDO_CONTA1`
    FOREIGN KEY (`CONTA_ID`)
    REFERENCES `cardappio`.`CONTA` (`ID_CONTA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PEDIDO_ENTREGADOR1`
    FOREIGN KEY (`ENTREGADOR_ID`)
    REFERENCES `cardappio`.`ENTREGADOR` (`ID_ENTREGADOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PEDIDO_CUPOM1`
    FOREIGN KEY (`CUPOM_ID`)
    REFERENCES `cardappio`.`CUPOM` (`ID_CUPOM`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PEDIDO_PEDIDO_STATUS1`
    FOREIGN KEY (`PEDIDO_STATUS_ID`)
    REFERENCES `cardappio`.`PEDIDO_STATUS` (`ID_PEDIDO_STATUS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cardappio`.`PEDIDO_ITEM`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cardappio`.`PEDIDO_ITEM` (
  `ID_PEDIDO_ITEM` INT NOT NULL AUTO_INCREMENT,
  `PEDIDO_PRODUTO_ID` INT NOT NULL,
  PRIMARY KEY (`ID_PEDIDO_ITEM`, `PEDIDO_PRODUTO_ID`),
  UNIQUE INDEX `ID_PEDIDO_ITEM_UNIQUE` (`ID_PEDIDO_ITEM` ASC) VISIBLE,
  INDEX `fk_PEDIDO_ITEM_PEDIDO1_idx` (`PEDIDO_PRODUTO_ID` ASC) VISIBLE,
  CONSTRAINT `fk_PEDIDO_ITEM_PEDIDO1`
    FOREIGN KEY (`PEDIDO_PRODUTO_ID`)
    REFERENCES `cardappio`.`PEDIDO` (`PEDIDO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
